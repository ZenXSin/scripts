2023-12-19 18:36:59 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Function "CURRENT_WEEK" not found; SQL statement:
CREATE TABLE IF NOT EXISTS RANKDATA (ID INT NOT NULL, "NAME" VARCHAR(36) DEFAULT 'UNKNOWN' NOT NULL, "onlineTime" INT DEFAULT 0 NOT NULL, "EXP" INT DEFAULT 0 NOT NULL, PLAYED INT DEFAULT 0 NOT NULL, WIN INT DEFAULT 0 NOT NULL, "weekUpdate" DATE DEFAULT (current_week()) NOT NULL, "onlineTimeWeek" INT DEFAULT 0 NOT NULL, "expWeek" INT DEFAULT 0 NOT NULL, "playedWeek" INT DEFAULT 0 NOT NULL, "winWeek" INT DEFAULT 0 NOT NULL, CONSTRAINT FK_RANKDATA_ID__ID FOREIGN KEY (ID) REFERENCES PLAYERPROFILE(ID) ON DELETE CASCADE ON UPDATE RESTRICT) [90022-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:576)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.command.Parser.readJavaFunction(Parser.java:3565)
	at org.h2.command.Parser.readFunction(Parser.java:3770)
	at org.h2.command.Parser.readTerm(Parser.java:4305)
	at org.h2.command.Parser.readFactor(Parser.java:3343)
	at org.h2.command.Parser.readSum(Parser.java:3330)
	at org.h2.command.Parser.readConcat(Parser.java:3305)
	at org.h2.command.Parser.readCondition(Parser.java:3108)
	at org.h2.command.Parser.readExpression(Parser.java:3059)
	at org.h2.command.Parser.readTerm(Parser.java:4344)
	at org.h2.command.Parser.readFactor(Parser.java:3343)
	at org.h2.command.Parser.readSum(Parser.java:3330)
	at org.h2.command.Parser.readConcat(Parser.java:3305)
	at org.h2.command.Parser.readCondition(Parser.java:3108)
	at org.h2.command.Parser.readExpression(Parser.java:3059)
	at org.h2.command.Parser.parseColumnForTable(Parser.java:5727)
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:8442)
	at org.h2.command.Parser.parseCreateTable(Parser.java:8379)
	at org.h2.command.Parser.parseCreate(Parser.java:6276)
	at org.h2.command.Parser.parsePrepared(Parser.java:903)
	at org.h2.command.Parser.parse(Parser.java:843)
	at org.h2.command.Parser.parse(Parser.java:815)
	at org.h2.command.Parser.prepareCommand(Parser.java:738)
	at org.h2.engine.Session.prepareLocal(Session.java:657)
	at org.h2.engine.Session.prepareCommand(Session.java:595)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:76)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1154)
	at org.jetbrains.exposed.sql.statements.jdbc.JdbcConnectionImpl.prepareStatement(JdbcConnectionImpl.kt:77)
	at org.jetbrains.exposed.sql.statements.Statement.prepared(Statement.kt:24)
	at org.jetbrains.exposed.sql.statements.Statement.executeIn$exposed_core(Statement.kt:47)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:141)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:127)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:109)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:95)
	at org.jetbrains.exposed.sql.Transaction.exec$default(Transaction.kt:94)
	at org.jetbrains.exposed.sql.SchemaUtils.execStatements(SchemaUtils.kt:266)
	at org.jetbrains.exposed.sql.SchemaUtils.createMissingTablesAndColumns(SchemaUtils.kt:328)
	at org.jetbrains.exposed.sql.SchemaUtils.createMissingTablesAndColumns$default(SchemaUtils.kt:321)
	at coreLibrary.DBApi$DB$TableVersion.check(DBApi.kts:59)
	at coreLibrary.DBApi$DB.initTable(DBApi.kts:114)
	at coreLibrary.DBApi$DB.access$initTable(DBApi.kts:21)
	at coreLibrary.DBApi$DB$registerTable$1$1.invoke(DBApi.kts:93)
	at coreLibrary.DBApi$DB$registerTable$1$1.invoke(DBApi.kts:93)
	at org.jetbrains.exposed.sql.SchemaUtils.withDataBaseLock(SchemaUtils.kt:488)
	at coreLibrary.DBApi$DB$registerTable$1.invoke(DBApi.kts:93)
	at coreLibrary.DBApi$DB$registerTable$1.invoke(DBApi.kts:92)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.inTopLevelTransaction$run(ThreadLocalTransactionManager.kt:215)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.access$inTopLevelTransaction$run(ThreadLocalTransactionManager.kt:1)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt$inTopLevelTransaction$1.invoke(ThreadLocalTransactionManager.kt:241)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.keepAndRestoreTransactionRefAfterRun(ThreadLocalTransactionManager.kt:249)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.inTopLevelTransaction(ThreadLocalTransactionManager.kt:240)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt$transaction$1.invoke(ThreadLocalTransactionManager.kt:190)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.keepAndRestoreTransactionRefAfterRun(ThreadLocalTransactionManager.kt:249)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction(ThreadLocalTransactionManager.kt:160)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction(ThreadLocalTransactionManager.kt:146)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction$default(ThreadLocalTransactionManager.kt:145)
	at coreLibrary.DBApi$DB.registerTable(DBApi.kts:92)
	at wayzer.user.ext.Rank$1.invokeSuspend(rank.kts:17)
	at wayzer.user.ext.Rank$1.invoke(rank.kts)
	at wayzer.user.ext.Rank$1.invoke(rank.kts)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invokeSuspend(ScriptManager.kt:118)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invoke(ScriptManager.kt)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invoke(ScriptManager.kt)
	at cf.wayzer.scriptAgent.Event$Handler.handleAsync$suspendImpl(Event.kt:92)
	at cf.wayzer.scriptAgent.Event$Handler.handleAsync(Event.kt)
	at cf.wayzer.scriptAgent.EventKt.emitAsync(Event.kt:163)
	at cf.wayzer.scriptAgent.ScriptManager.enableScript(ScriptManager.kt:114)
	at cf.wayzer.scriptAgent.ScriptManager.enableScript$default(ScriptManager.kt:85)
	at cf.wayzer.scriptAgent.ScriptManager$Transaction.enable(ScriptManager.kt:262)
	at cf.wayzer.scriptAgent.ScriptManager$Transaction.enable$default(ScriptManager.kt:259)
	at coreLibrary.ControlCommand$1$1$3$2$invokeSuspend$$inlined$runIgnoreCancel$1.invokeSuspend(controlCommand.kts:191)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:584)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:793)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:697)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:684)
2023-12-19 18:37:08 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Function "CURRENT_WEEK" not found; SQL statement:
CREATE TABLE IF NOT EXISTS RANKDATA (ID INT NOT NULL, "NAME" VARCHAR(36) DEFAULT 'UNKNOWN' NOT NULL, "onlineTime" INT DEFAULT 0 NOT NULL, "EXP" INT DEFAULT 0 NOT NULL, PLAYED INT DEFAULT 0 NOT NULL, WIN INT DEFAULT 0 NOT NULL, "weekUpdate" DATE DEFAULT (current_week()) NOT NULL, "onlineTimeWeek" INT DEFAULT 0 NOT NULL, "expWeek" INT DEFAULT 0 NOT NULL, "playedWeek" INT DEFAULT 0 NOT NULL, "winWeek" INT DEFAULT 0 NOT NULL, CONSTRAINT FK_RANKDATA_ID__ID FOREIGN KEY (ID) REFERENCES PLAYERPROFILE(ID) ON DELETE CASCADE ON UPDATE RESTRICT) [90022-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:576)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.command.Parser.readJavaFunction(Parser.java:3565)
	at org.h2.command.Parser.readFunction(Parser.java:3770)
	at org.h2.command.Parser.readTerm(Parser.java:4305)
	at org.h2.command.Parser.readFactor(Parser.java:3343)
	at org.h2.command.Parser.readSum(Parser.java:3330)
	at org.h2.command.Parser.readConcat(Parser.java:3305)
	at org.h2.command.Parser.readCondition(Parser.java:3108)
	at org.h2.command.Parser.readExpression(Parser.java:3059)
	at org.h2.command.Parser.readTerm(Parser.java:4344)
	at org.h2.command.Parser.readFactor(Parser.java:3343)
	at org.h2.command.Parser.readSum(Parser.java:3330)
	at org.h2.command.Parser.readConcat(Parser.java:3305)
	at org.h2.command.Parser.readCondition(Parser.java:3108)
	at org.h2.command.Parser.readExpression(Parser.java:3059)
	at org.h2.command.Parser.parseColumnForTable(Parser.java:5727)
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:8442)
	at org.h2.command.Parser.parseCreateTable(Parser.java:8379)
	at org.h2.command.Parser.parseCreate(Parser.java:6276)
	at org.h2.command.Parser.parsePrepared(Parser.java:903)
	at org.h2.command.Parser.parse(Parser.java:843)
	at org.h2.command.Parser.parse(Parser.java:815)
	at org.h2.command.Parser.prepareCommand(Parser.java:738)
	at org.h2.engine.Session.prepareLocal(Session.java:657)
	at org.h2.engine.Session.prepareCommand(Session.java:595)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:76)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1154)
	at org.jetbrains.exposed.sql.statements.jdbc.JdbcConnectionImpl.prepareStatement(JdbcConnectionImpl.kt:77)
	at org.jetbrains.exposed.sql.statements.Statement.prepared(Statement.kt:24)
	at org.jetbrains.exposed.sql.statements.Statement.executeIn$exposed_core(Statement.kt:47)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:141)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:127)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:109)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:95)
	at org.jetbrains.exposed.sql.Transaction.exec$default(Transaction.kt:94)
	at org.jetbrains.exposed.sql.SchemaUtils.execStatements(SchemaUtils.kt:266)
	at org.jetbrains.exposed.sql.SchemaUtils.createMissingTablesAndColumns(SchemaUtils.kt:328)
	at org.jetbrains.exposed.sql.SchemaUtils.createMissingTablesAndColumns$default(SchemaUtils.kt:321)
	at coreLibrary.DBApi$DB$TableVersion.check(DBApi.kts:59)
	at coreLibrary.DBApi$DB.initTable(DBApi.kts:114)
	at coreLibrary.DBApi$DB.access$initTable(DBApi.kts:21)
	at coreLibrary.DBApi$DB$registerTable$1$1.invoke(DBApi.kts:93)
	at coreLibrary.DBApi$DB$registerTable$1$1.invoke(DBApi.kts:93)
	at org.jetbrains.exposed.sql.SchemaUtils.withDataBaseLock(SchemaUtils.kt:488)
	at coreLibrary.DBApi$DB$registerTable$1.invoke(DBApi.kts:93)
	at coreLibrary.DBApi$DB$registerTable$1.invoke(DBApi.kts:92)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.inTopLevelTransaction$run(ThreadLocalTransactionManager.kt:215)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.access$inTopLevelTransaction$run(ThreadLocalTransactionManager.kt:1)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt$inTopLevelTransaction$1.invoke(ThreadLocalTransactionManager.kt:241)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.keepAndRestoreTransactionRefAfterRun(ThreadLocalTransactionManager.kt:249)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.inTopLevelTransaction(ThreadLocalTransactionManager.kt:240)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt$transaction$1.invoke(ThreadLocalTransactionManager.kt:190)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.keepAndRestoreTransactionRefAfterRun(ThreadLocalTransactionManager.kt:249)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction(ThreadLocalTransactionManager.kt:160)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction(ThreadLocalTransactionManager.kt:146)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction$default(ThreadLocalTransactionManager.kt:145)
	at coreLibrary.DBApi$DB.registerTable(DBApi.kts:92)
	at wayzer.user.ext.Rank$1.invokeSuspend(rank.kts:17)
	at wayzer.user.ext.Rank$1.invoke(rank.kts)
	at wayzer.user.ext.Rank$1.invoke(rank.kts)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invokeSuspend(ScriptManager.kt:118)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invoke(ScriptManager.kt)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invoke(ScriptManager.kt)
	at cf.wayzer.scriptAgent.Event$Handler.handleAsync$suspendImpl(Event.kt:92)
	at cf.wayzer.scriptAgent.Event$Handler.handleAsync(Event.kt)
	at cf.wayzer.scriptAgent.EventKt.emitAsync(Event.kt:163)
	at cf.wayzer.scriptAgent.ScriptManager.enableScript(ScriptManager.kt:114)
	at cf.wayzer.scriptAgent.ScriptManager.enableScript$default(ScriptManager.kt:85)
	at cf.wayzer.scriptAgent.ScriptManager$Transaction.enable(ScriptManager.kt:262)
	at cf.wayzer.scriptAgent.ScriptManager$Transaction.enable$default(ScriptManager.kt:259)
	at coreLibrary.ControlCommand$1$1$4$2$invokeSuspend$$inlined$runIgnoreCancel$1.invokeSuspend(controlCommand.kts:186)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
	at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:584)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:793)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:697)
	at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:684)
2023-12-19 18:43:37 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Function "CURRENT_WEEK" not found; SQL statement:
CREATE TABLE IF NOT EXISTS RANKDATA (ID INT NOT NULL, "NAME" VARCHAR(36) DEFAULT 'UNKNOWN' NOT NULL, "onlineTime" INT DEFAULT 0 NOT NULL, "EXP" INT DEFAULT 0 NOT NULL, PLAYED INT DEFAULT 0 NOT NULL, WIN INT DEFAULT 0 NOT NULL, "weekUpdate" DATE DEFAULT (current_week()) NOT NULL, "onlineTimeWeek" INT DEFAULT 0 NOT NULL, "expWeek" INT DEFAULT 0 NOT NULL, "playedWeek" INT DEFAULT 0 NOT NULL, "winWeek" INT DEFAULT 0 NOT NULL, CONSTRAINT FK_RANKDATA_ID__ID FOREIGN KEY (ID) REFERENCES PLAYERPROFILE(ID) ON DELETE CASCADE ON UPDATE RESTRICT) [90022-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:576)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.command.Parser.readJavaFunction(Parser.java:3565)
	at org.h2.command.Parser.readFunction(Parser.java:3770)
	at org.h2.command.Parser.readTerm(Parser.java:4305)
	at org.h2.command.Parser.readFactor(Parser.java:3343)
	at org.h2.command.Parser.readSum(Parser.java:3330)
	at org.h2.command.Parser.readConcat(Parser.java:3305)
	at org.h2.command.Parser.readCondition(Parser.java:3108)
	at org.h2.command.Parser.readExpression(Parser.java:3059)
	at org.h2.command.Parser.readTerm(Parser.java:4344)
	at org.h2.command.Parser.readFactor(Parser.java:3343)
	at org.h2.command.Parser.readSum(Parser.java:3330)
	at org.h2.command.Parser.readConcat(Parser.java:3305)
	at org.h2.command.Parser.readCondition(Parser.java:3108)
	at org.h2.command.Parser.readExpression(Parser.java:3059)
	at org.h2.command.Parser.parseColumnForTable(Parser.java:5727)
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:8442)
	at org.h2.command.Parser.parseCreateTable(Parser.java:8379)
	at org.h2.command.Parser.parseCreate(Parser.java:6276)
	at org.h2.command.Parser.parsePrepared(Parser.java:903)
	at org.h2.command.Parser.parse(Parser.java:843)
	at org.h2.command.Parser.parse(Parser.java:815)
	at org.h2.command.Parser.prepareCommand(Parser.java:738)
	at org.h2.engine.Session.prepareLocal(Session.java:657)
	at org.h2.engine.Session.prepareCommand(Session.java:595)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:76)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1154)
	at org.jetbrains.exposed.sql.statements.jdbc.JdbcConnectionImpl.prepareStatement(JdbcConnectionImpl.kt:77)
	at org.jetbrains.exposed.sql.statements.Statement.prepared(Statement.kt:24)
	at org.jetbrains.exposed.sql.statements.Statement.executeIn$exposed_core(Statement.kt:47)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:141)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:127)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:109)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:95)
	at org.jetbrains.exposed.sql.Transaction.exec$default(Transaction.kt:94)
	at org.jetbrains.exposed.sql.SchemaUtils.execStatements(SchemaUtils.kt:266)
	at org.jetbrains.exposed.sql.SchemaUtils.createMissingTablesAndColumns(SchemaUtils.kt:328)
	at org.jetbrains.exposed.sql.SchemaUtils.createMissingTablesAndColumns$default(SchemaUtils.kt:321)
	at coreLibrary.DBApi$DB$TableVersion.check(DBApi.kts:59)
	at coreLibrary.DBApi$DB.initTable(DBApi.kts:114)
	at coreLibrary.DBApi$DB.access$initTable(DBApi.kts:21)
	at coreLibrary.DBApi$DB$registerTable$1$1.invoke(DBApi.kts:93)
	at coreLibrary.DBApi$DB$registerTable$1$1.invoke(DBApi.kts:93)
	at org.jetbrains.exposed.sql.SchemaUtils.withDataBaseLock(SchemaUtils.kt:488)
	at coreLibrary.DBApi$DB$registerTable$1.invoke(DBApi.kts:93)
	at coreLibrary.DBApi$DB$registerTable$1.invoke(DBApi.kts:92)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.inTopLevelTransaction$run(ThreadLocalTransactionManager.kt:215)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.access$inTopLevelTransaction$run(ThreadLocalTransactionManager.kt:1)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt$inTopLevelTransaction$1.invoke(ThreadLocalTransactionManager.kt:241)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.keepAndRestoreTransactionRefAfterRun(ThreadLocalTransactionManager.kt:249)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.inTopLevelTransaction(ThreadLocalTransactionManager.kt:240)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt$transaction$1.invoke(ThreadLocalTransactionManager.kt:190)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.keepAndRestoreTransactionRefAfterRun(ThreadLocalTransactionManager.kt:249)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction(ThreadLocalTransactionManager.kt:160)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction(ThreadLocalTransactionManager.kt:146)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction$default(ThreadLocalTransactionManager.kt:145)
	at coreLibrary.DBApi$DB.registerTable(DBApi.kts:92)
	at wayzer.user.ext.Rank$1.invokeSuspend(rank.kts:17)
	at wayzer.user.ext.Rank$1.invoke(rank.kts)
	at wayzer.user.ext.Rank$1.invoke(rank.kts)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invokeSuspend(ScriptManager.kt:118)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invoke(ScriptManager.kt)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invoke(ScriptManager.kt)
	at cf.wayzer.scriptAgent.Event$Handler.handleAsync$suspendImpl(Event.kt:92)
	at cf.wayzer.scriptAgent.Event$Handler.handleAsync(Event.kt)
	at cf.wayzer.scriptAgent.EventKt.emitAsync(Event.kt:163)
	at cf.wayzer.scriptAgent.ScriptManager.enableScript(ScriptManager.kt:114)
	at cf.wayzer.scriptAgent.ScriptManager.enableScript$default(ScriptManager.kt:85)
	at cf.wayzer.scriptAgent.ScriptManager$Transaction.enable(ScriptManager.kt:262)
	at cf.wayzer.scriptAgent.ScriptManager$Transaction.enable$default(ScriptManager.kt:259)
	at main.BootStrap.boot(bootStrap.kts:15)
	at main.BootStrap$boot$1.invokeSuspend(bootStrap.kts)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
	at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:280)
	at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)
	at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)
	at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)
	at cf.wayzer.scriptAgent.mindustry.Main.init(Main.kt:40)
	at cf.wayzer.scriptAgent.mindustry.Loader.init(Loader.kt:35)
	at mindustry.mod.Mods.lambda$eachClass$29(Mods.java:785)
	at mindustry.mod.Mods.contextRun(Mods.java:795)
	at mindustry.mod.Mods.lambda$eachClass$30(Mods.java:785)
	at arc.struct.Seq.each(Seq.java:182)
	at mindustry.mod.Mods.eachClass(Mods.java:785)
	at mindustry.server.ServerLauncher.init(ServerLauncher.java:80)
	at arc.backend.headless.HeadlessApplication.mainLoop(HeadlessApplication.java:64)
	at arc.backend.headless.HeadlessApplication$1.run(HeadlessApplication.java:52)
2023-12-21 14:17:52 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Function "CURRENT_WEEK" not found; SQL statement:
CREATE TABLE IF NOT EXISTS RANKDATA (ID INT NOT NULL, "NAME" VARCHAR(36) DEFAULT 'UNKNOWN' NOT NULL, "onlineTime" INT DEFAULT 0 NOT NULL, "EXP" INT DEFAULT 0 NOT NULL, PLAYED INT DEFAULT 0 NOT NULL, WIN INT DEFAULT 0 NOT NULL, "weekUpdate" DATE DEFAULT (current_week()) NOT NULL, "onlineTimeWeek" INT DEFAULT 0 NOT NULL, "expWeek" INT DEFAULT 0 NOT NULL, "playedWeek" INT DEFAULT 0 NOT NULL, "winWeek" INT DEFAULT 0 NOT NULL, CONSTRAINT FK_RANKDATA_ID__ID FOREIGN KEY (ID) REFERENCES PLAYERPROFILE(ID) ON DELETE CASCADE ON UPDATE RESTRICT) [90022-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:576)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.command.Parser.readJavaFunction(Parser.java:3565)
	at org.h2.command.Parser.readFunction(Parser.java:3770)
	at org.h2.command.Parser.readTerm(Parser.java:4305)
	at org.h2.command.Parser.readFactor(Parser.java:3343)
	at org.h2.command.Parser.readSum(Parser.java:3330)
	at org.h2.command.Parser.readConcat(Parser.java:3305)
	at org.h2.command.Parser.readCondition(Parser.java:3108)
	at org.h2.command.Parser.readExpression(Parser.java:3059)
	at org.h2.command.Parser.readTerm(Parser.java:4344)
	at org.h2.command.Parser.readFactor(Parser.java:3343)
	at org.h2.command.Parser.readSum(Parser.java:3330)
	at org.h2.command.Parser.readConcat(Parser.java:3305)
	at org.h2.command.Parser.readCondition(Parser.java:3108)
	at org.h2.command.Parser.readExpression(Parser.java:3059)
	at org.h2.command.Parser.parseColumnForTable(Parser.java:5727)
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:8442)
	at org.h2.command.Parser.parseCreateTable(Parser.java:8379)
	at org.h2.command.Parser.parseCreate(Parser.java:6276)
	at org.h2.command.Parser.parsePrepared(Parser.java:903)
	at org.h2.command.Parser.parse(Parser.java:843)
	at org.h2.command.Parser.parse(Parser.java:815)
	at org.h2.command.Parser.prepareCommand(Parser.java:738)
	at org.h2.engine.Session.prepareLocal(Session.java:657)
	at org.h2.engine.Session.prepareCommand(Session.java:595)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:76)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1154)
	at org.jetbrains.exposed.sql.statements.jdbc.JdbcConnectionImpl.prepareStatement(JdbcConnectionImpl.kt:77)
	at org.jetbrains.exposed.sql.statements.Statement.prepared(Statement.kt:24)
	at org.jetbrains.exposed.sql.statements.Statement.executeIn$exposed_core(Statement.kt:47)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:141)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:127)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:109)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:95)
	at org.jetbrains.exposed.sql.Transaction.exec$default(Transaction.kt:94)
	at org.jetbrains.exposed.sql.SchemaUtils.execStatements(SchemaUtils.kt:266)
	at org.jetbrains.exposed.sql.SchemaUtils.createMissingTablesAndColumns(SchemaUtils.kt:328)
	at org.jetbrains.exposed.sql.SchemaUtils.createMissingTablesAndColumns$default(SchemaUtils.kt:321)
	at coreLibrary.DBApi$DB$TableVersion.check(DBApi.kts:59)
	at coreLibrary.DBApi$DB.initTable(DBApi.kts:114)
	at coreLibrary.DBApi$DB.access$initTable(DBApi.kts:21)
	at coreLibrary.DBApi$DB$registerTable$1$1.invoke(DBApi.kts:93)
	at coreLibrary.DBApi$DB$registerTable$1$1.invoke(DBApi.kts:93)
	at org.jetbrains.exposed.sql.SchemaUtils.withDataBaseLock(SchemaUtils.kt:488)
	at coreLibrary.DBApi$DB$registerTable$1.invoke(DBApi.kts:93)
	at coreLibrary.DBApi$DB$registerTable$1.invoke(DBApi.kts:92)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.inTopLevelTransaction$run(ThreadLocalTransactionManager.kt:215)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.access$inTopLevelTransaction$run(ThreadLocalTransactionManager.kt:1)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt$inTopLevelTransaction$1.invoke(ThreadLocalTransactionManager.kt:241)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.keepAndRestoreTransactionRefAfterRun(ThreadLocalTransactionManager.kt:249)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.inTopLevelTransaction(ThreadLocalTransactionManager.kt:240)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt$transaction$1.invoke(ThreadLocalTransactionManager.kt:190)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.keepAndRestoreTransactionRefAfterRun(ThreadLocalTransactionManager.kt:249)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction(ThreadLocalTransactionManager.kt:160)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction(ThreadLocalTransactionManager.kt:146)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction$default(ThreadLocalTransactionManager.kt:145)
	at coreLibrary.DBApi$DB.registerTable(DBApi.kts:92)
	at wayzer.user.ext.Rank$1.invokeSuspend(rank.kts:17)
	at wayzer.user.ext.Rank$1.invoke(rank.kts)
	at wayzer.user.ext.Rank$1.invoke(rank.kts)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invokeSuspend(ScriptManager.kt:118)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invoke(ScriptManager.kt)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invoke(ScriptManager.kt)
	at cf.wayzer.scriptAgent.Event$Handler.handleAsync$suspendImpl(Event.kt:92)
	at cf.wayzer.scriptAgent.Event$Handler.handleAsync(Event.kt)
	at cf.wayzer.scriptAgent.EventKt.emitAsync(Event.kt:163)
	at cf.wayzer.scriptAgent.ScriptManager.enableScript(ScriptManager.kt:114)
	at cf.wayzer.scriptAgent.ScriptManager.enableScript$default(ScriptManager.kt:85)
	at cf.wayzer.scriptAgent.ScriptManager$Transaction.enable(ScriptManager.kt:262)
	at cf.wayzer.scriptAgent.ScriptManager$Transaction.enable$default(ScriptManager.kt:259)
	at main.BootStrap.boot(bootStrap.kts:15)
	at main.BootStrap$boot$1.invokeSuspend(bootStrap.kts)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
	at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:280)
	at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)
	at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)
	at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)
	at cf.wayzer.scriptAgent.mindustry.Main.init(Main.kt:40)
	at cf.wayzer.scriptAgent.mindustry.Loader.init(Loader.kt:35)
	at mindustry.mod.Mods.lambda$eachClass$29(Mods.java:785)
	at mindustry.mod.Mods.contextRun(Mods.java:795)
	at mindustry.mod.Mods.lambda$eachClass$30(Mods.java:785)
	at arc.struct.Seq.each(Seq.java:182)
	at mindustry.mod.Mods.eachClass(Mods.java:785)
	at mindustry.server.ServerLauncher.init(ServerLauncher.java:80)
	at arc.backend.headless.HeadlessApplication.mainLoop(HeadlessApplication.java:64)
	at arc.backend.headless.HeadlessApplication$1.run(HeadlessApplication.java:52)
2023-12-21 18:22:13 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Function "CURRENT_WEEK" not found; SQL statement:
CREATE TABLE IF NOT EXISTS RANKDATA (ID INT NOT NULL, "NAME" VARCHAR(36) DEFAULT 'UNKNOWN' NOT NULL, "onlineTime" INT DEFAULT 0 NOT NULL, "EXP" INT DEFAULT 0 NOT NULL, PLAYED INT DEFAULT 0 NOT NULL, WIN INT DEFAULT 0 NOT NULL, "weekUpdate" DATE DEFAULT (current_week()) NOT NULL, "onlineTimeWeek" INT DEFAULT 0 NOT NULL, "expWeek" INT DEFAULT 0 NOT NULL, "playedWeek" INT DEFAULT 0 NOT NULL, "winWeek" INT DEFAULT 0 NOT NULL, CONSTRAINT FK_RANKDATA_ID__ID FOREIGN KEY (ID) REFERENCES PLAYERPROFILE(ID) ON DELETE CASCADE ON UPDATE RESTRICT) [90022-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:576)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.command.Parser.readJavaFunction(Parser.java:3565)
	at org.h2.command.Parser.readFunction(Parser.java:3770)
	at org.h2.command.Parser.readTerm(Parser.java:4305)
	at org.h2.command.Parser.readFactor(Parser.java:3343)
	at org.h2.command.Parser.readSum(Parser.java:3330)
	at org.h2.command.Parser.readConcat(Parser.java:3305)
	at org.h2.command.Parser.readCondition(Parser.java:3108)
	at org.h2.command.Parser.readExpression(Parser.java:3059)
	at org.h2.command.Parser.readTerm(Parser.java:4344)
	at org.h2.command.Parser.readFactor(Parser.java:3343)
	at org.h2.command.Parser.readSum(Parser.java:3330)
	at org.h2.command.Parser.readConcat(Parser.java:3305)
	at org.h2.command.Parser.readCondition(Parser.java:3108)
	at org.h2.command.Parser.readExpression(Parser.java:3059)
	at org.h2.command.Parser.parseColumnForTable(Parser.java:5727)
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:8442)
	at org.h2.command.Parser.parseCreateTable(Parser.java:8379)
	at org.h2.command.Parser.parseCreate(Parser.java:6276)
	at org.h2.command.Parser.parsePrepared(Parser.java:903)
	at org.h2.command.Parser.parse(Parser.java:843)
	at org.h2.command.Parser.parse(Parser.java:815)
	at org.h2.command.Parser.prepareCommand(Parser.java:738)
	at org.h2.engine.Session.prepareLocal(Session.java:657)
	at org.h2.engine.Session.prepareCommand(Session.java:595)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:76)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1154)
	at org.jetbrains.exposed.sql.statements.jdbc.JdbcConnectionImpl.prepareStatement(JdbcConnectionImpl.kt:77)
	at org.jetbrains.exposed.sql.statements.Statement.prepared(Statement.kt:24)
	at org.jetbrains.exposed.sql.statements.Statement.executeIn$exposed_core(Statement.kt:47)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:141)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:127)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:109)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:95)
	at org.jetbrains.exposed.sql.Transaction.exec$default(Transaction.kt:94)
	at org.jetbrains.exposed.sql.SchemaUtils.execStatements(SchemaUtils.kt:266)
	at org.jetbrains.exposed.sql.SchemaUtils.createMissingTablesAndColumns(SchemaUtils.kt:328)
	at org.jetbrains.exposed.sql.SchemaUtils.createMissingTablesAndColumns$default(SchemaUtils.kt:321)
	at coreLibrary.DBApi$DB$TableVersion.check(DBApi.kts:59)
	at coreLibrary.DBApi$DB.initTable(DBApi.kts:114)
	at coreLibrary.DBApi$DB.access$initTable(DBApi.kts:21)
	at coreLibrary.DBApi$DB$registerTable$1$1.invoke(DBApi.kts:93)
	at coreLibrary.DBApi$DB$registerTable$1$1.invoke(DBApi.kts:93)
	at org.jetbrains.exposed.sql.SchemaUtils.withDataBaseLock(SchemaUtils.kt:488)
	at coreLibrary.DBApi$DB$registerTable$1.invoke(DBApi.kts:93)
	at coreLibrary.DBApi$DB$registerTable$1.invoke(DBApi.kts:92)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.inTopLevelTransaction$run(ThreadLocalTransactionManager.kt:215)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.access$inTopLevelTransaction$run(ThreadLocalTransactionManager.kt:1)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt$inTopLevelTransaction$1.invoke(ThreadLocalTransactionManager.kt:241)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.keepAndRestoreTransactionRefAfterRun(ThreadLocalTransactionManager.kt:249)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.inTopLevelTransaction(ThreadLocalTransactionManager.kt:240)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt$transaction$1.invoke(ThreadLocalTransactionManager.kt:190)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.keepAndRestoreTransactionRefAfterRun(ThreadLocalTransactionManager.kt:249)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction(ThreadLocalTransactionManager.kt:160)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction(ThreadLocalTransactionManager.kt:146)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction$default(ThreadLocalTransactionManager.kt:145)
	at coreLibrary.DBApi$DB.registerTable(DBApi.kts:92)
	at wayzer.user.ext.Rank$1.invokeSuspend(rank.kts:17)
	at wayzer.user.ext.Rank$1.invoke(rank.kts)
	at wayzer.user.ext.Rank$1.invoke(rank.kts)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invokeSuspend(ScriptManager.kt:118)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invoke(ScriptManager.kt)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invoke(ScriptManager.kt)
	at cf.wayzer.scriptAgent.Event$Handler.handleAsync$suspendImpl(Event.kt:92)
	at cf.wayzer.scriptAgent.Event$Handler.handleAsync(Event.kt)
	at cf.wayzer.scriptAgent.EventKt.emitAsync(Event.kt:163)
	at cf.wayzer.scriptAgent.ScriptManager.enableScript(ScriptManager.kt:114)
	at cf.wayzer.scriptAgent.ScriptManager.enableScript$default(ScriptManager.kt:85)
	at cf.wayzer.scriptAgent.ScriptManager$Transaction.enable(ScriptManager.kt:262)
	at cf.wayzer.scriptAgent.ScriptManager$Transaction.enable$default(ScriptManager.kt:259)
	at main.BootStrap.boot(bootStrap.kts:15)
	at main.BootStrap$boot$1.invokeSuspend(bootStrap.kts)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
	at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:280)
	at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)
	at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)
	at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)
	at cf.wayzer.scriptAgent.mindustry.Main.init(Main.kt:40)
	at cf.wayzer.scriptAgent.mindustry.Loader.init(Loader.kt:35)
	at mindustry.mod.Mods.lambda$eachClass$29(Mods.java:785)
	at mindustry.mod.Mods.contextRun(Mods.java:795)
	at mindustry.mod.Mods.lambda$eachClass$30(Mods.java:785)
	at arc.struct.Seq.each(Seq.java:182)
	at mindustry.mod.Mods.eachClass(Mods.java:785)
	at mindustry.server.ServerLauncher.init(ServerLauncher.java:80)
	at arc.backend.headless.HeadlessApplication.mainLoop(HeadlessApplication.java:64)
	at arc.backend.headless.HeadlessApplication$1.run(HeadlessApplication.java:52)
2023-12-21 18:31:17 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Function "CURRENT_WEEK" not found; SQL statement:
CREATE TABLE IF NOT EXISTS RANKDATA (ID INT NOT NULL, "NAME" VARCHAR(36) DEFAULT 'UNKNOWN' NOT NULL, "onlineTime" INT DEFAULT 0 NOT NULL, "EXP" INT DEFAULT 0 NOT NULL, PLAYED INT DEFAULT 0 NOT NULL, WIN INT DEFAULT 0 NOT NULL, "weekUpdate" DATE DEFAULT (current_week()) NOT NULL, "onlineTimeWeek" INT DEFAULT 0 NOT NULL, "expWeek" INT DEFAULT 0 NOT NULL, "playedWeek" INT DEFAULT 0 NOT NULL, "winWeek" INT DEFAULT 0 NOT NULL, CONSTRAINT FK_RANKDATA_ID__ID FOREIGN KEY (ID) REFERENCES PLAYERPROFILE(ID) ON DELETE CASCADE ON UPDATE RESTRICT) [90022-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:576)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.command.Parser.readJavaFunction(Parser.java:3565)
	at org.h2.command.Parser.readFunction(Parser.java:3770)
	at org.h2.command.Parser.readTerm(Parser.java:4305)
	at org.h2.command.Parser.readFactor(Parser.java:3343)
	at org.h2.command.Parser.readSum(Parser.java:3330)
	at org.h2.command.Parser.readConcat(Parser.java:3305)
	at org.h2.command.Parser.readCondition(Parser.java:3108)
	at org.h2.command.Parser.readExpression(Parser.java:3059)
	at org.h2.command.Parser.readTerm(Parser.java:4344)
	at org.h2.command.Parser.readFactor(Parser.java:3343)
	at org.h2.command.Parser.readSum(Parser.java:3330)
	at org.h2.command.Parser.readConcat(Parser.java:3305)
	at org.h2.command.Parser.readCondition(Parser.java:3108)
	at org.h2.command.Parser.readExpression(Parser.java:3059)
	at org.h2.command.Parser.parseColumnForTable(Parser.java:5727)
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:8442)
	at org.h2.command.Parser.parseCreateTable(Parser.java:8379)
	at org.h2.command.Parser.parseCreate(Parser.java:6276)
	at org.h2.command.Parser.parsePrepared(Parser.java:903)
	at org.h2.command.Parser.parse(Parser.java:843)
	at org.h2.command.Parser.parse(Parser.java:815)
	at org.h2.command.Parser.prepareCommand(Parser.java:738)
	at org.h2.engine.Session.prepareLocal(Session.java:657)
	at org.h2.engine.Session.prepareCommand(Session.java:595)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:76)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1154)
	at org.jetbrains.exposed.sql.statements.jdbc.JdbcConnectionImpl.prepareStatement(JdbcConnectionImpl.kt:77)
	at org.jetbrains.exposed.sql.statements.Statement.prepared(Statement.kt:24)
	at org.jetbrains.exposed.sql.statements.Statement.executeIn$exposed_core(Statement.kt:47)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:141)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:127)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:109)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:95)
	at org.jetbrains.exposed.sql.Transaction.exec$default(Transaction.kt:94)
	at org.jetbrains.exposed.sql.SchemaUtils.execStatements(SchemaUtils.kt:266)
	at org.jetbrains.exposed.sql.SchemaUtils.createMissingTablesAndColumns(SchemaUtils.kt:328)
	at org.jetbrains.exposed.sql.SchemaUtils.createMissingTablesAndColumns$default(SchemaUtils.kt:321)
	at coreLibrary.DBApi$DB$TableVersion.check(DBApi.kts:59)
	at coreLibrary.DBApi$DB.initTable(DBApi.kts:114)
	at coreLibrary.DBApi$DB.access$initTable(DBApi.kts:21)
	at coreLibrary.DBApi$DB$registerTable$1$1.invoke(DBApi.kts:93)
	at coreLibrary.DBApi$DB$registerTable$1$1.invoke(DBApi.kts:93)
	at org.jetbrains.exposed.sql.SchemaUtils.withDataBaseLock(SchemaUtils.kt:488)
	at coreLibrary.DBApi$DB$registerTable$1.invoke(DBApi.kts:93)
	at coreLibrary.DBApi$DB$registerTable$1.invoke(DBApi.kts:92)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.inTopLevelTransaction$run(ThreadLocalTransactionManager.kt:215)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.access$inTopLevelTransaction$run(ThreadLocalTransactionManager.kt:1)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt$inTopLevelTransaction$1.invoke(ThreadLocalTransactionManager.kt:241)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.keepAndRestoreTransactionRefAfterRun(ThreadLocalTransactionManager.kt:249)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.inTopLevelTransaction(ThreadLocalTransactionManager.kt:240)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt$transaction$1.invoke(ThreadLocalTransactionManager.kt:190)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.keepAndRestoreTransactionRefAfterRun(ThreadLocalTransactionManager.kt:249)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction(ThreadLocalTransactionManager.kt:160)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction(ThreadLocalTransactionManager.kt:146)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction$default(ThreadLocalTransactionManager.kt:145)
	at coreLibrary.DBApi$DB.registerTable(DBApi.kts:92)
	at wayzer.user.ext.Rank$1.invokeSuspend(rank.kts:17)
	at wayzer.user.ext.Rank$1.invoke(rank.kts)
	at wayzer.user.ext.Rank$1.invoke(rank.kts)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invokeSuspend(ScriptManager.kt:118)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invoke(ScriptManager.kt)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invoke(ScriptManager.kt)
	at cf.wayzer.scriptAgent.Event$Handler.handleAsync$suspendImpl(Event.kt:92)
	at cf.wayzer.scriptAgent.Event$Handler.handleAsync(Event.kt)
	at cf.wayzer.scriptAgent.EventKt.emitAsync(Event.kt:163)
	at cf.wayzer.scriptAgent.ScriptManager.enableScript(ScriptManager.kt:114)
	at cf.wayzer.scriptAgent.ScriptManager.enableScript$default(ScriptManager.kt:85)
	at cf.wayzer.scriptAgent.ScriptManager$Transaction.enable(ScriptManager.kt:262)
	at cf.wayzer.scriptAgent.ScriptManager$Transaction.enable$default(ScriptManager.kt:259)
	at main.BootStrap.boot(bootStrap.kts:15)
	at main.BootStrap$boot$1.invokeSuspend(bootStrap.kts)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
	at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:280)
	at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)
	at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)
	at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)
	at cf.wayzer.scriptAgent.mindustry.Main.init(Main.kt:40)
	at cf.wayzer.scriptAgent.mindustry.Loader.init(Loader.kt:35)
	at mindustry.mod.Mods.lambda$eachClass$29(Mods.java:785)
	at mindustry.mod.Mods.contextRun(Mods.java:795)
	at mindustry.mod.Mods.lambda$eachClass$30(Mods.java:785)
	at arc.struct.Seq.each(Seq.java:182)
	at mindustry.mod.Mods.eachClass(Mods.java:785)
	at mindustry.server.ServerLauncher.init(ServerLauncher.java:80)
	at arc.backend.headless.HeadlessApplication.mainLoop(HeadlessApplication.java:64)
	at arc.backend.headless.HeadlessApplication$1.run(HeadlessApplication.java:52)
2023-12-22 13:13:06 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Function "CURRENT_WEEK" not found; SQL statement:
CREATE TABLE IF NOT EXISTS RANKDATA (ID INT NOT NULL, "NAME" VARCHAR(36) DEFAULT 'UNKNOWN' NOT NULL, "onlineTime" INT DEFAULT 0 NOT NULL, "EXP" INT DEFAULT 0 NOT NULL, PLAYED INT DEFAULT 0 NOT NULL, WIN INT DEFAULT 0 NOT NULL, "weekUpdate" DATE DEFAULT (current_week()) NOT NULL, "onlineTimeWeek" INT DEFAULT 0 NOT NULL, "expWeek" INT DEFAULT 0 NOT NULL, "playedWeek" INT DEFAULT 0 NOT NULL, "winWeek" INT DEFAULT 0 NOT NULL, CONSTRAINT FK_RANKDATA_ID__ID FOREIGN KEY (ID) REFERENCES PLAYERPROFILE(ID) ON DELETE CASCADE ON UPDATE RESTRICT) [90022-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:576)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.command.Parser.readJavaFunction(Parser.java:3565)
	at org.h2.command.Parser.readFunction(Parser.java:3770)
	at org.h2.command.Parser.readTerm(Parser.java:4305)
	at org.h2.command.Parser.readFactor(Parser.java:3343)
	at org.h2.command.Parser.readSum(Parser.java:3330)
	at org.h2.command.Parser.readConcat(Parser.java:3305)
	at org.h2.command.Parser.readCondition(Parser.java:3108)
	at org.h2.command.Parser.readExpression(Parser.java:3059)
	at org.h2.command.Parser.readTerm(Parser.java:4344)
	at org.h2.command.Parser.readFactor(Parser.java:3343)
	at org.h2.command.Parser.readSum(Parser.java:3330)
	at org.h2.command.Parser.readConcat(Parser.java:3305)
	at org.h2.command.Parser.readCondition(Parser.java:3108)
	at org.h2.command.Parser.readExpression(Parser.java:3059)
	at org.h2.command.Parser.parseColumnForTable(Parser.java:5727)
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:8442)
	at org.h2.command.Parser.parseCreateTable(Parser.java:8379)
	at org.h2.command.Parser.parseCreate(Parser.java:6276)
	at org.h2.command.Parser.parsePrepared(Parser.java:903)
	at org.h2.command.Parser.parse(Parser.java:843)
	at org.h2.command.Parser.parse(Parser.java:815)
	at org.h2.command.Parser.prepareCommand(Parser.java:738)
	at org.h2.engine.Session.prepareLocal(Session.java:657)
	at org.h2.engine.Session.prepareCommand(Session.java:595)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:76)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1154)
	at org.jetbrains.exposed.sql.statements.jdbc.JdbcConnectionImpl.prepareStatement(JdbcConnectionImpl.kt:77)
	at org.jetbrains.exposed.sql.statements.Statement.prepared(Statement.kt:24)
	at org.jetbrains.exposed.sql.statements.Statement.executeIn$exposed_core(Statement.kt:47)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:141)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:127)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:109)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:95)
	at org.jetbrains.exposed.sql.Transaction.exec$default(Transaction.kt:94)
	at org.jetbrains.exposed.sql.SchemaUtils.execStatements(SchemaUtils.kt:266)
	at org.jetbrains.exposed.sql.SchemaUtils.createMissingTablesAndColumns(SchemaUtils.kt:328)
	at org.jetbrains.exposed.sql.SchemaUtils.createMissingTablesAndColumns$default(SchemaUtils.kt:321)
	at coreLibrary.DBApi$DB$TableVersion.check(DBApi.kts:59)
	at coreLibrary.DBApi$DB.initTable(DBApi.kts:114)
	at coreLibrary.DBApi$DB.access$initTable(DBApi.kts:21)
	at coreLibrary.DBApi$DB$registerTable$1$1.invoke(DBApi.kts:93)
	at coreLibrary.DBApi$DB$registerTable$1$1.invoke(DBApi.kts:93)
	at org.jetbrains.exposed.sql.SchemaUtils.withDataBaseLock(SchemaUtils.kt:488)
	at coreLibrary.DBApi$DB$registerTable$1.invoke(DBApi.kts:93)
	at coreLibrary.DBApi$DB$registerTable$1.invoke(DBApi.kts:92)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.inTopLevelTransaction$run(ThreadLocalTransactionManager.kt:215)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.access$inTopLevelTransaction$run(ThreadLocalTransactionManager.kt:1)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt$inTopLevelTransaction$1.invoke(ThreadLocalTransactionManager.kt:241)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.keepAndRestoreTransactionRefAfterRun(ThreadLocalTransactionManager.kt:249)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.inTopLevelTransaction(ThreadLocalTransactionManager.kt:240)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt$transaction$1.invoke(ThreadLocalTransactionManager.kt:190)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.keepAndRestoreTransactionRefAfterRun(ThreadLocalTransactionManager.kt:249)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction(ThreadLocalTransactionManager.kt:160)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction(ThreadLocalTransactionManager.kt:146)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction$default(ThreadLocalTransactionManager.kt:145)
	at coreLibrary.DBApi$DB.registerTable(DBApi.kts:92)
	at wayzer.user.ext.Rank$1.invokeSuspend(rank.kts:17)
	at wayzer.user.ext.Rank$1.invoke(rank.kts)
	at wayzer.user.ext.Rank$1.invoke(rank.kts)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invokeSuspend(ScriptManager.kt:118)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invoke(ScriptManager.kt)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invoke(ScriptManager.kt)
	at cf.wayzer.scriptAgent.Event$Handler.handleAsync$suspendImpl(Event.kt:92)
	at cf.wayzer.scriptAgent.Event$Handler.handleAsync(Event.kt)
	at cf.wayzer.scriptAgent.EventKt.emitAsync(Event.kt:163)
	at cf.wayzer.scriptAgent.ScriptManager.enableScript(ScriptManager.kt:114)
	at cf.wayzer.scriptAgent.ScriptManager.enableScript$default(ScriptManager.kt:85)
	at cf.wayzer.scriptAgent.ScriptManager$Transaction.enable(ScriptManager.kt:262)
	at cf.wayzer.scriptAgent.ScriptManager$Transaction.enable$default(ScriptManager.kt:259)
	at main.BootStrap.boot(bootStrap.kts:15)
	at main.BootStrap$boot$1.invokeSuspend(bootStrap.kts)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
	at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:280)
	at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)
	at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)
	at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)
	at cf.wayzer.scriptAgent.mindustry.Main.init(Main.kt:40)
	at cf.wayzer.scriptAgent.mindustry.Loader.init(Loader.kt:35)
	at mindustry.mod.Mods.lambda$eachClass$29(Mods.java:785)
	at mindustry.mod.Mods.contextRun(Mods.java:795)
	at mindustry.mod.Mods.lambda$eachClass$30(Mods.java:785)
	at arc.struct.Seq.each(Seq.java:182)
	at mindustry.mod.Mods.eachClass(Mods.java:785)
	at mindustry.server.ServerLauncher.init(ServerLauncher.java:80)
	at arc.backend.headless.HeadlessApplication.mainLoop(HeadlessApplication.java:64)
	at arc.backend.headless.HeadlessApplication$1.run(HeadlessApplication.java:52)
2023-12-22 13:31:12 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Function "CURRENT_WEEK" not found; SQL statement:
CREATE TABLE IF NOT EXISTS RANKDATA (ID INT NOT NULL, "NAME" VARCHAR(36) DEFAULT 'UNKNOWN' NOT NULL, "onlineTime" INT DEFAULT 0 NOT NULL, "EXP" INT DEFAULT 0 NOT NULL, PLAYED INT DEFAULT 0 NOT NULL, WIN INT DEFAULT 0 NOT NULL, "weekUpdate" DATE DEFAULT (current_week()) NOT NULL, "onlineTimeWeek" INT DEFAULT 0 NOT NULL, "expWeek" INT DEFAULT 0 NOT NULL, "playedWeek" INT DEFAULT 0 NOT NULL, "winWeek" INT DEFAULT 0 NOT NULL, CONSTRAINT FK_RANKDATA_ID__ID FOREIGN KEY (ID) REFERENCES PLAYERPROFILE(ID) ON DELETE CASCADE ON UPDATE RESTRICT) [90022-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:576)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.command.Parser.readJavaFunction(Parser.java:3565)
	at org.h2.command.Parser.readFunction(Parser.java:3770)
	at org.h2.command.Parser.readTerm(Parser.java:4305)
	at org.h2.command.Parser.readFactor(Parser.java:3343)
	at org.h2.command.Parser.readSum(Parser.java:3330)
	at org.h2.command.Parser.readConcat(Parser.java:3305)
	at org.h2.command.Parser.readCondition(Parser.java:3108)
	at org.h2.command.Parser.readExpression(Parser.java:3059)
	at org.h2.command.Parser.readTerm(Parser.java:4344)
	at org.h2.command.Parser.readFactor(Parser.java:3343)
	at org.h2.command.Parser.readSum(Parser.java:3330)
	at org.h2.command.Parser.readConcat(Parser.java:3305)
	at org.h2.command.Parser.readCondition(Parser.java:3108)
	at org.h2.command.Parser.readExpression(Parser.java:3059)
	at org.h2.command.Parser.parseColumnForTable(Parser.java:5727)
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:8442)
	at org.h2.command.Parser.parseCreateTable(Parser.java:8379)
	at org.h2.command.Parser.parseCreate(Parser.java:6276)
	at org.h2.command.Parser.parsePrepared(Parser.java:903)
	at org.h2.command.Parser.parse(Parser.java:843)
	at org.h2.command.Parser.parse(Parser.java:815)
	at org.h2.command.Parser.prepareCommand(Parser.java:738)
	at org.h2.engine.Session.prepareLocal(Session.java:657)
	at org.h2.engine.Session.prepareCommand(Session.java:595)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:76)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1154)
	at org.jetbrains.exposed.sql.statements.jdbc.JdbcConnectionImpl.prepareStatement(JdbcConnectionImpl.kt:77)
	at org.jetbrains.exposed.sql.statements.Statement.prepared(Statement.kt:24)
	at org.jetbrains.exposed.sql.statements.Statement.executeIn$exposed_core(Statement.kt:47)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:141)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:127)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:109)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:95)
	at org.jetbrains.exposed.sql.Transaction.exec$default(Transaction.kt:94)
	at org.jetbrains.exposed.sql.SchemaUtils.execStatements(SchemaUtils.kt:266)
	at org.jetbrains.exposed.sql.SchemaUtils.createMissingTablesAndColumns(SchemaUtils.kt:328)
	at org.jetbrains.exposed.sql.SchemaUtils.createMissingTablesAndColumns$default(SchemaUtils.kt:321)
	at coreLibrary.DBApi$DB$TableVersion.check(DBApi.kts:59)
	at coreLibrary.DBApi$DB.initTable(DBApi.kts:114)
	at coreLibrary.DBApi$DB.access$initTable(DBApi.kts:21)
	at coreLibrary.DBApi$DB$registerTable$1$1.invoke(DBApi.kts:93)
	at coreLibrary.DBApi$DB$registerTable$1$1.invoke(DBApi.kts:93)
	at org.jetbrains.exposed.sql.SchemaUtils.withDataBaseLock(SchemaUtils.kt:488)
	at coreLibrary.DBApi$DB$registerTable$1.invoke(DBApi.kts:93)
	at coreLibrary.DBApi$DB$registerTable$1.invoke(DBApi.kts:92)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.inTopLevelTransaction$run(ThreadLocalTransactionManager.kt:215)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.access$inTopLevelTransaction$run(ThreadLocalTransactionManager.kt:1)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt$inTopLevelTransaction$1.invoke(ThreadLocalTransactionManager.kt:241)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.keepAndRestoreTransactionRefAfterRun(ThreadLocalTransactionManager.kt:249)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.inTopLevelTransaction(ThreadLocalTransactionManager.kt:240)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt$transaction$1.invoke(ThreadLocalTransactionManager.kt:190)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.keepAndRestoreTransactionRefAfterRun(ThreadLocalTransactionManager.kt:249)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction(ThreadLocalTransactionManager.kt:160)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction(ThreadLocalTransactionManager.kt:146)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction$default(ThreadLocalTransactionManager.kt:145)
	at coreLibrary.DBApi$DB.registerTable(DBApi.kts:92)
	at wayzer.user.ext.Rank$1.invokeSuspend(rank.kts:17)
	at wayzer.user.ext.Rank$1.invoke(rank.kts)
	at wayzer.user.ext.Rank$1.invoke(rank.kts)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invokeSuspend(ScriptManager.kt:118)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invoke(ScriptManager.kt)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invoke(ScriptManager.kt)
	at cf.wayzer.scriptAgent.Event$Handler.handleAsync$suspendImpl(Event.kt:92)
	at cf.wayzer.scriptAgent.Event$Handler.handleAsync(Event.kt)
	at cf.wayzer.scriptAgent.EventKt.emitAsync(Event.kt:163)
	at cf.wayzer.scriptAgent.ScriptManager.enableScript(ScriptManager.kt:114)
	at cf.wayzer.scriptAgent.ScriptManager.enableScript$default(ScriptManager.kt:85)
	at cf.wayzer.scriptAgent.ScriptManager$Transaction.enable(ScriptManager.kt:262)
	at cf.wayzer.scriptAgent.ScriptManager$Transaction.enable$default(ScriptManager.kt:259)
	at main.BootStrap.boot(bootStrap.kts:15)
	at main.BootStrap$boot$1.invokeSuspend(bootStrap.kts)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
	at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:280)
	at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)
	at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)
	at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)
	at cf.wayzer.scriptAgent.mindustry.Main.init(Main.kt:40)
	at cf.wayzer.scriptAgent.mindustry.Loader.init(Loader.kt:35)
	at mindustry.mod.Mods.lambda$eachClass$29(Mods.java:785)
	at mindustry.mod.Mods.contextRun(Mods.java:795)
	at mindustry.mod.Mods.lambda$eachClass$30(Mods.java:785)
	at arc.struct.Seq.each(Seq.java:182)
	at mindustry.mod.Mods.eachClass(Mods.java:785)
	at mindustry.server.ServerLauncher.init(ServerLauncher.java:80)
	at arc.backend.headless.HeadlessApplication.mainLoop(HeadlessApplication.java:64)
	at arc.backend.headless.HeadlessApplication$1.run(HeadlessApplication.java:52)
2023-12-22 17:32:36 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Function "CURRENT_WEEK" not found; SQL statement:
CREATE TABLE IF NOT EXISTS RANKDATA (ID INT NOT NULL, "NAME" VARCHAR(36) DEFAULT 'UNKNOWN' NOT NULL, "onlineTime" INT DEFAULT 0 NOT NULL, "EXP" INT DEFAULT 0 NOT NULL, PLAYED INT DEFAULT 0 NOT NULL, WIN INT DEFAULT 0 NOT NULL, "weekUpdate" DATE DEFAULT (current_week()) NOT NULL, "onlineTimeWeek" INT DEFAULT 0 NOT NULL, "expWeek" INT DEFAULT 0 NOT NULL, "playedWeek" INT DEFAULT 0 NOT NULL, "winWeek" INT DEFAULT 0 NOT NULL, CONSTRAINT FK_RANKDATA_ID__ID FOREIGN KEY (ID) REFERENCES PLAYERPROFILE(ID) ON DELETE CASCADE ON UPDATE RESTRICT) [90022-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:576)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.command.Parser.readJavaFunction(Parser.java:3565)
	at org.h2.command.Parser.readFunction(Parser.java:3770)
	at org.h2.command.Parser.readTerm(Parser.java:4305)
	at org.h2.command.Parser.readFactor(Parser.java:3343)
	at org.h2.command.Parser.readSum(Parser.java:3330)
	at org.h2.command.Parser.readConcat(Parser.java:3305)
	at org.h2.command.Parser.readCondition(Parser.java:3108)
	at org.h2.command.Parser.readExpression(Parser.java:3059)
	at org.h2.command.Parser.readTerm(Parser.java:4344)
	at org.h2.command.Parser.readFactor(Parser.java:3343)
	at org.h2.command.Parser.readSum(Parser.java:3330)
	at org.h2.command.Parser.readConcat(Parser.java:3305)
	at org.h2.command.Parser.readCondition(Parser.java:3108)
	at org.h2.command.Parser.readExpression(Parser.java:3059)
	at org.h2.command.Parser.parseColumnForTable(Parser.java:5727)
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:8442)
	at org.h2.command.Parser.parseCreateTable(Parser.java:8379)
	at org.h2.command.Parser.parseCreate(Parser.java:6276)
	at org.h2.command.Parser.parsePrepared(Parser.java:903)
	at org.h2.command.Parser.parse(Parser.java:843)
	at org.h2.command.Parser.parse(Parser.java:815)
	at org.h2.command.Parser.prepareCommand(Parser.java:738)
	at org.h2.engine.Session.prepareLocal(Session.java:657)
	at org.h2.engine.Session.prepareCommand(Session.java:595)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:76)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1154)
	at org.jetbrains.exposed.sql.statements.jdbc.JdbcConnectionImpl.prepareStatement(JdbcConnectionImpl.kt:77)
	at org.jetbrains.exposed.sql.statements.Statement.prepared(Statement.kt:24)
	at org.jetbrains.exposed.sql.statements.Statement.executeIn$exposed_core(Statement.kt:47)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:141)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:127)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:109)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:95)
	at org.jetbrains.exposed.sql.Transaction.exec$default(Transaction.kt:94)
	at org.jetbrains.exposed.sql.SchemaUtils.execStatements(SchemaUtils.kt:266)
	at org.jetbrains.exposed.sql.SchemaUtils.createMissingTablesAndColumns(SchemaUtils.kt:328)
	at org.jetbrains.exposed.sql.SchemaUtils.createMissingTablesAndColumns$default(SchemaUtils.kt:321)
	at coreLibrary.DBApi$DB$TableVersion.check(DBApi.kts:59)
	at coreLibrary.DBApi$DB.initTable(DBApi.kts:114)
	at coreLibrary.DBApi$DB.access$initTable(DBApi.kts:21)
	at coreLibrary.DBApi$DB$registerTable$1$1.invoke(DBApi.kts:93)
	at coreLibrary.DBApi$DB$registerTable$1$1.invoke(DBApi.kts:93)
	at org.jetbrains.exposed.sql.SchemaUtils.withDataBaseLock(SchemaUtils.kt:488)
	at coreLibrary.DBApi$DB$registerTable$1.invoke(DBApi.kts:93)
	at coreLibrary.DBApi$DB$registerTable$1.invoke(DBApi.kts:92)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.inTopLevelTransaction$run(ThreadLocalTransactionManager.kt:215)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.access$inTopLevelTransaction$run(ThreadLocalTransactionManager.kt:1)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt$inTopLevelTransaction$1.invoke(ThreadLocalTransactionManager.kt:241)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.keepAndRestoreTransactionRefAfterRun(ThreadLocalTransactionManager.kt:249)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.inTopLevelTransaction(ThreadLocalTransactionManager.kt:240)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt$transaction$1.invoke(ThreadLocalTransactionManager.kt:190)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.keepAndRestoreTransactionRefAfterRun(ThreadLocalTransactionManager.kt:249)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction(ThreadLocalTransactionManager.kt:160)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction(ThreadLocalTransactionManager.kt:146)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction$default(ThreadLocalTransactionManager.kt:145)
	at coreLibrary.DBApi$DB.registerTable(DBApi.kts:92)
	at wayzer.user.ext.Rank$1.invokeSuspend(rank.kts:17)
	at wayzer.user.ext.Rank$1.invoke(rank.kts)
	at wayzer.user.ext.Rank$1.invoke(rank.kts)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invokeSuspend(ScriptManager.kt:118)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invoke(ScriptManager.kt)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invoke(ScriptManager.kt)
	at cf.wayzer.scriptAgent.Event$Handler.handleAsync$suspendImpl(Event.kt:92)
	at cf.wayzer.scriptAgent.Event$Handler.handleAsync(Event.kt)
	at cf.wayzer.scriptAgent.EventKt.emitAsync(Event.kt:163)
	at cf.wayzer.scriptAgent.ScriptManager.enableScript(ScriptManager.kt:114)
	at cf.wayzer.scriptAgent.ScriptManager.enableScript$default(ScriptManager.kt:85)
	at cf.wayzer.scriptAgent.ScriptManager$Transaction.enable(ScriptManager.kt:262)
	at cf.wayzer.scriptAgent.ScriptManager$Transaction.enable$default(ScriptManager.kt:259)
	at main.BootStrap.boot(bootStrap.kts:15)
	at main.BootStrap$boot$1.invokeSuspend(bootStrap.kts)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
	at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:280)
	at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)
	at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)
	at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)
	at cf.wayzer.scriptAgent.mindustry.Main.init(Main.kt:40)
	at cf.wayzer.scriptAgent.mindustry.Loader.init(Loader.kt:35)
	at mindustry.mod.Mods.lambda$eachClass$29(Mods.java:785)
	at mindustry.mod.Mods.contextRun(Mods.java:795)
	at mindustry.mod.Mods.lambda$eachClass$30(Mods.java:785)
	at arc.struct.Seq.each(Seq.java:182)
	at mindustry.mod.Mods.eachClass(Mods.java:785)
	at mindustry.server.ServerLauncher.init(ServerLauncher.java:80)
	at arc.backend.headless.HeadlessApplication.mainLoop(HeadlessApplication.java:64)
	at arc.backend.headless.HeadlessApplication$1.run(HeadlessApplication.java:52)
2023-12-30 13:19:05 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Function "CURRENT_WEEK" not found; SQL statement:
CREATE TABLE IF NOT EXISTS RANKDATA (ID INT NOT NULL, "NAME" VARCHAR(36) DEFAULT 'UNKNOWN' NOT NULL, "onlineTime" INT DEFAULT 0 NOT NULL, "EXP" INT DEFAULT 0 NOT NULL, PLAYED INT DEFAULT 0 NOT NULL, WIN INT DEFAULT 0 NOT NULL, "weekUpdate" DATE DEFAULT (current_week()) NOT NULL, "onlineTimeWeek" INT DEFAULT 0 NOT NULL, "expWeek" INT DEFAULT 0 NOT NULL, "playedWeek" INT DEFAULT 0 NOT NULL, "winWeek" INT DEFAULT 0 NOT NULL, CONSTRAINT FK_RANKDATA_ID__ID FOREIGN KEY (ID) REFERENCES PLAYERPROFILE(ID) ON DELETE CASCADE ON UPDATE RESTRICT) [90022-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:576)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.command.Parser.readJavaFunction(Parser.java:3565)
	at org.h2.command.Parser.readFunction(Parser.java:3770)
	at org.h2.command.Parser.readTerm(Parser.java:4305)
	at org.h2.command.Parser.readFactor(Parser.java:3343)
	at org.h2.command.Parser.readSum(Parser.java:3330)
	at org.h2.command.Parser.readConcat(Parser.java:3305)
	at org.h2.command.Parser.readCondition(Parser.java:3108)
	at org.h2.command.Parser.readExpression(Parser.java:3059)
	at org.h2.command.Parser.readTerm(Parser.java:4344)
	at org.h2.command.Parser.readFactor(Parser.java:3343)
	at org.h2.command.Parser.readSum(Parser.java:3330)
	at org.h2.command.Parser.readConcat(Parser.java:3305)
	at org.h2.command.Parser.readCondition(Parser.java:3108)
	at org.h2.command.Parser.readExpression(Parser.java:3059)
	at org.h2.command.Parser.parseColumnForTable(Parser.java:5727)
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:8442)
	at org.h2.command.Parser.parseCreateTable(Parser.java:8379)
	at org.h2.command.Parser.parseCreate(Parser.java:6276)
	at org.h2.command.Parser.parsePrepared(Parser.java:903)
	at org.h2.command.Parser.parse(Parser.java:843)
	at org.h2.command.Parser.parse(Parser.java:815)
	at org.h2.command.Parser.prepareCommand(Parser.java:738)
	at org.h2.engine.Session.prepareLocal(Session.java:657)
	at org.h2.engine.Session.prepareCommand(Session.java:595)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:76)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1154)
	at org.jetbrains.exposed.sql.statements.jdbc.JdbcConnectionImpl.prepareStatement(JdbcConnectionImpl.kt:77)
	at org.jetbrains.exposed.sql.statements.Statement.prepared(Statement.kt:24)
	at org.jetbrains.exposed.sql.statements.Statement.executeIn$exposed_core(Statement.kt:47)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:141)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:127)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:109)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:95)
	at org.jetbrains.exposed.sql.Transaction.exec$default(Transaction.kt:94)
	at org.jetbrains.exposed.sql.SchemaUtils.execStatements(SchemaUtils.kt:266)
	at org.jetbrains.exposed.sql.SchemaUtils.createMissingTablesAndColumns(SchemaUtils.kt:328)
	at org.jetbrains.exposed.sql.SchemaUtils.createMissingTablesAndColumns$default(SchemaUtils.kt:321)
	at coreLibrary.DBApi$DB$TableVersion.check(DBApi.kts:59)
	at coreLibrary.DBApi$DB.initTable(DBApi.kts:114)
	at coreLibrary.DBApi$DB.access$initTable(DBApi.kts:21)
	at coreLibrary.DBApi$DB$registerTable$1$1.invoke(DBApi.kts:93)
	at coreLibrary.DBApi$DB$registerTable$1$1.invoke(DBApi.kts:93)
	at org.jetbrains.exposed.sql.SchemaUtils.withDataBaseLock(SchemaUtils.kt:488)
	at coreLibrary.DBApi$DB$registerTable$1.invoke(DBApi.kts:93)
	at coreLibrary.DBApi$DB$registerTable$1.invoke(DBApi.kts:92)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.inTopLevelTransaction$run(ThreadLocalTransactionManager.kt:215)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.access$inTopLevelTransaction$run(ThreadLocalTransactionManager.kt:1)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt$inTopLevelTransaction$1.invoke(ThreadLocalTransactionManager.kt:241)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.keepAndRestoreTransactionRefAfterRun(ThreadLocalTransactionManager.kt:249)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.inTopLevelTransaction(ThreadLocalTransactionManager.kt:240)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt$transaction$1.invoke(ThreadLocalTransactionManager.kt:190)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.keepAndRestoreTransactionRefAfterRun(ThreadLocalTransactionManager.kt:249)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction(ThreadLocalTransactionManager.kt:160)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction(ThreadLocalTransactionManager.kt:146)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction$default(ThreadLocalTransactionManager.kt:145)
	at coreLibrary.DBApi$DB.registerTable(DBApi.kts:92)
	at wayzer.user.ext.Rank$1.invokeSuspend(rank.kts:17)
	at wayzer.user.ext.Rank$1.invoke(rank.kts)
	at wayzer.user.ext.Rank$1.invoke(rank.kts)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invokeSuspend(ScriptManager.kt:118)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invoke(ScriptManager.kt)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invoke(ScriptManager.kt)
	at cf.wayzer.scriptAgent.Event$Handler.handleAsync$suspendImpl(Event.kt:92)
	at cf.wayzer.scriptAgent.Event$Handler.handleAsync(Event.kt)
	at cf.wayzer.scriptAgent.EventKt.emitAsync(Event.kt:163)
	at cf.wayzer.scriptAgent.ScriptManager.enableScript(ScriptManager.kt:114)
	at cf.wayzer.scriptAgent.ScriptManager.enableScript$default(ScriptManager.kt:85)
	at cf.wayzer.scriptAgent.ScriptManager$Transaction.enable(ScriptManager.kt:262)
	at cf.wayzer.scriptAgent.ScriptManager$Transaction.enable$default(ScriptManager.kt:259)
	at main.BootStrap.boot(bootStrap.kts:15)
	at main.BootStrap$boot$1.invokeSuspend(bootStrap.kts)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
	at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:280)
	at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)
	at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)
	at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)
	at cf.wayzer.scriptAgent.mindustry.Main.init(Main.kt:40)
	at cf.wayzer.scriptAgent.mindustry.Loader.init(Loader.kt:35)
	at mindustry.mod.Mods.lambda$eachClass$29(Mods.java:785)
	at mindustry.mod.Mods.contextRun(Mods.java:795)
	at mindustry.mod.Mods.lambda$eachClass$30(Mods.java:785)
	at arc.struct.Seq.each(Seq.java:182)
	at mindustry.mod.Mods.eachClass(Mods.java:785)
	at mindustry.server.ServerLauncher.init(ServerLauncher.java:80)
	at arc.backend.headless.HeadlessApplication.mainLoop(HeadlessApplication.java:64)
	at arc.backend.headless.HeadlessApplication$1.run(HeadlessApplication.java:52)
2023-12-31 21:37:25 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Function "CURRENT_WEEK" not found; SQL statement:
CREATE TABLE IF NOT EXISTS RANKDATA (ID INT NOT NULL, "NAME" VARCHAR(36) DEFAULT 'UNKNOWN' NOT NULL, "onlineTime" INT DEFAULT 0 NOT NULL, "EXP" INT DEFAULT 0 NOT NULL, PLAYED INT DEFAULT 0 NOT NULL, WIN INT DEFAULT 0 NOT NULL, "weekUpdate" DATE DEFAULT (current_week()) NOT NULL, "onlineTimeWeek" INT DEFAULT 0 NOT NULL, "expWeek" INT DEFAULT 0 NOT NULL, "playedWeek" INT DEFAULT 0 NOT NULL, "winWeek" INT DEFAULT 0 NOT NULL, CONSTRAINT FK_RANKDATA_ID__ID FOREIGN KEY (ID) REFERENCES PLAYERPROFILE(ID) ON DELETE CASCADE ON UPDATE RESTRICT) [90022-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:576)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.command.Parser.readJavaFunction(Parser.java:3565)
	at org.h2.command.Parser.readFunction(Parser.java:3770)
	at org.h2.command.Parser.readTerm(Parser.java:4305)
	at org.h2.command.Parser.readFactor(Parser.java:3343)
	at org.h2.command.Parser.readSum(Parser.java:3330)
	at org.h2.command.Parser.readConcat(Parser.java:3305)
	at org.h2.command.Parser.readCondition(Parser.java:3108)
	at org.h2.command.Parser.readExpression(Parser.java:3059)
	at org.h2.command.Parser.readTerm(Parser.java:4344)
	at org.h2.command.Parser.readFactor(Parser.java:3343)
	at org.h2.command.Parser.readSum(Parser.java:3330)
	at org.h2.command.Parser.readConcat(Parser.java:3305)
	at org.h2.command.Parser.readCondition(Parser.java:3108)
	at org.h2.command.Parser.readExpression(Parser.java:3059)
	at org.h2.command.Parser.parseColumnForTable(Parser.java:5727)
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:8442)
	at org.h2.command.Parser.parseCreateTable(Parser.java:8379)
	at org.h2.command.Parser.parseCreate(Parser.java:6276)
	at org.h2.command.Parser.parsePrepared(Parser.java:903)
	at org.h2.command.Parser.parse(Parser.java:843)
	at org.h2.command.Parser.parse(Parser.java:815)
	at org.h2.command.Parser.prepareCommand(Parser.java:738)
	at org.h2.engine.Session.prepareLocal(Session.java:657)
	at org.h2.engine.Session.prepareCommand(Session.java:595)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235)
	at org.h2.jdbc.JdbcPreparedStatement.<init>(JdbcPreparedStatement.java:76)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:1154)
	at org.jetbrains.exposed.sql.statements.jdbc.JdbcConnectionImpl.prepareStatement(JdbcConnectionImpl.kt:77)
	at org.jetbrains.exposed.sql.statements.Statement.prepared(Statement.kt:24)
	at org.jetbrains.exposed.sql.statements.Statement.executeIn$exposed_core(Statement.kt:47)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:141)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:127)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:109)
	at org.jetbrains.exposed.sql.Transaction.exec(Transaction.kt:95)
	at org.jetbrains.exposed.sql.Transaction.exec$default(Transaction.kt:94)
	at org.jetbrains.exposed.sql.SchemaUtils.execStatements(SchemaUtils.kt:266)
	at org.jetbrains.exposed.sql.SchemaUtils.createMissingTablesAndColumns(SchemaUtils.kt:328)
	at org.jetbrains.exposed.sql.SchemaUtils.createMissingTablesAndColumns$default(SchemaUtils.kt:321)
	at coreLibrary.DBApi$DB$TableVersion.check(DBApi.kts:59)
	at coreLibrary.DBApi$DB.initTable(DBApi.kts:114)
	at coreLibrary.DBApi$DB.access$initTable(DBApi.kts:21)
	at coreLibrary.DBApi$DB$registerTable$1$1.invoke(DBApi.kts:93)
	at coreLibrary.DBApi$DB$registerTable$1$1.invoke(DBApi.kts:93)
	at org.jetbrains.exposed.sql.SchemaUtils.withDataBaseLock(SchemaUtils.kt:488)
	at coreLibrary.DBApi$DB$registerTable$1.invoke(DBApi.kts:93)
	at coreLibrary.DBApi$DB$registerTable$1.invoke(DBApi.kts:92)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.inTopLevelTransaction$run(ThreadLocalTransactionManager.kt:215)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.access$inTopLevelTransaction$run(ThreadLocalTransactionManager.kt:1)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt$inTopLevelTransaction$1.invoke(ThreadLocalTransactionManager.kt:241)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.keepAndRestoreTransactionRefAfterRun(ThreadLocalTransactionManager.kt:249)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.inTopLevelTransaction(ThreadLocalTransactionManager.kt:240)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt$transaction$1.invoke(ThreadLocalTransactionManager.kt:190)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.keepAndRestoreTransactionRefAfterRun(ThreadLocalTransactionManager.kt:249)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction(ThreadLocalTransactionManager.kt:160)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction(ThreadLocalTransactionManager.kt:146)
	at org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction$default(ThreadLocalTransactionManager.kt:145)
	at coreLibrary.DBApi$DB.registerTable(DBApi.kts:92)
	at wayzer.user.ext.Rank$1.invokeSuspend(rank.kts:17)
	at wayzer.user.ext.Rank$1.invoke(rank.kts)
	at wayzer.user.ext.Rank$1.invoke(rank.kts)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invokeSuspend(ScriptManager.kt:118)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invoke(ScriptManager.kt)
	at cf.wayzer.scriptAgent.ScriptManager$enableScript$3$1.invoke(ScriptManager.kt)
	at cf.wayzer.scriptAgent.Event$Handler.handleAsync$suspendImpl(Event.kt:92)
	at cf.wayzer.scriptAgent.Event$Handler.handleAsync(Event.kt)
	at cf.wayzer.scriptAgent.EventKt.emitAsync(Event.kt:163)
	at cf.wayzer.scriptAgent.ScriptManager.enableScript(ScriptManager.kt:114)
	at cf.wayzer.scriptAgent.ScriptManager.enableScript$default(ScriptManager.kt:85)
	at cf.wayzer.scriptAgent.ScriptManager$Transaction.enable(ScriptManager.kt:262)
	at cf.wayzer.scriptAgent.ScriptManager$Transaction.enable$default(ScriptManager.kt:259)
	at main.BootStrap.boot(bootStrap.kts:15)
	at main.BootStrap$boot$1.invokeSuspend(bootStrap.kts)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:108)
	at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:280)
	at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)
	at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)
	at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)
	at cf.wayzer.scriptAgent.mindustry.Main.init(Main.kt:40)
	at cf.wayzer.scriptAgent.mindustry.Loader.init(Loader.kt:35)
	at mindustry.mod.Mods.lambda$eachClass$29(Mods.java:785)
	at mindustry.mod.Mods.contextRun(Mods.java:795)
	at mindustry.mod.Mods.lambda$eachClass$30(Mods.java:785)
	at arc.struct.Seq.each(Seq.java:182)
	at mindustry.mod.Mods.eachClass(Mods.java:785)
	at mindustry.server.ServerLauncher.init(ServerLauncher.java:80)
	at arc.backend.headless.HeadlessApplication.mainLoop(HeadlessApplication.java:64)
	at arc.backend.headless.HeadlessApplication$1.run(HeadlessApplication.java:52)
